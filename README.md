# Комментарии к выполненному заданию 

1. Сделан единый DAO
2. В модель stats добавлен ID, так как repo_id могут повторяться в разные даты. Убраны лишние primary keys
3. Сделаны ручки на stats
4. Ежедневное сканирование сделано на базе fastapi_utils
5. Запрошенный эндпойт /v1/users/{id}/stats реализован, в том числе можно задавать диапазон дат
6. При создании записей задание ID исключено (используется autoincrement)
7. Запрос данных сдедано на основе aiohttp
8. Подготовлен docker-compose для быстрого развертывания приложения
9. Настройки базы берутся из переменных окружения или .env. В репозитории есть пример .env.example
10. В докере uvicorn запускается с 4 workers
11. Весь предложенный стек испольован


# Тестовое задание для Backend-разработчика

Это репозиторий тестового задания на позицию Backend-разработчика. Проект представляет из себя простой сервис сбора данных из [GitHub API](https://docs.github.com/en/rest) для последующего анализа изменений в популярности репозиториев. Сервис реализован не полностью и вам необходимо довести его до ума.


## Задание

Сейчас перед вами стоят следующие задачи:

1. Скопируйте этот репозиторий. Ссылку на свою копию необходимо будет предоставить рекрутеру.
2. Изучите устройство сервиса.
3. Реализуйте ежедневное сканирование репозиториев и добавление новых записей в базу данных. Сканирование следует
   выполнять только для добавленных в базу данных пользователей.
4. Реализуйте эндпоинт **/v1/users/{id}/stats**. Пусть он возвращает данные за указанный период (**date_from**, **date_to**) в следующем формате:

```json
{
  "user": {
    "id": 1428904,
    "login": "allien",
    "name": "Allien Delon"
  },
  "stats": [
    {
      "repo_id": 7329078,
      "date": "2022-06-10",
      "stargazers": 42,
      "forks": 9,
      "watchers": 14
    },
    {
      "repo_id": 7329078,
      "date": "2022-06-11",
      "stargazers": 56,
      "forks": 10,
      "watchers": 15
    }
  ]
}
```

5. Подготовьте сервис для развертывания с помощью Docker Compose.
6. Опубликуйте репозиторий с вашим доработанным вариантом и отправьте ссылку рекрутеру.


## Дополнительная информация

- Соблюдайте PEP8.
- Используйте отдельные коммиты для разных задач.
- При внесении изменений придерживайтесь семантического версионирования.
- Используйте `aiohttp` или `httpx` для сбора данных с GitHub.
- Если потребуется, внесите изменения в схему базы данных.
- Используйте Alembic и миграции для работы с базой данных.
- Если вы видите несколько вариантов решения одной и той же задачи, сделайте выбор самостоятельно.


## Стек

- Python 3.10
- PostgreSQL
- SQLAlchemy
- Alembic
- FastAPI
- Uvicorn
- httpx или aiohttp

## Запуск

Используйте `uvicorn src.api:app --host 0.0.0.0 --port 5000` для запуска API. Подробнее в документации [FastAPI](https://fastapi.tiangolo.com/deployment/manually/) или [Uvicorn](https://www.uvicorn.org/).
